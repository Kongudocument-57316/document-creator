import { getSupabaseServerClient } from "./supabase"

// Default document templates
const DEFAULT_TEMPLATES = [
  {
    title: "விற்பனை ஆவணம்",
    description: "சொத்து விற்பனைக்கான ஆவண வார்ப்புரு",
    content: `<h1 style="text-align: center;">விற்பனை ஆவணம்</h1>
<p>இந்த விற்பனை ஆவணம் [தேதி] அன்று [விற்பனையாளர் பெயர்] (இனி "விற்பனையாளர்" என்று குறிப்பிடப்படுகிறார்) மற்றும் [வாங்குபவர் பெயர்] (இனி "வாங்குபவர்" என்று குறிப்பிடப்படுகிறார்) ஆகியோருக்கு இடையே செய்யப்படுகிறது.</p>
<h2>சொத்து விவரங்கள்</h2>
<p>விற்பனையாளர் பின்வரும் சொத்தை வாங்குபவருக்கு விற்க ஒப்புக்கொள்கிறார்:</p>
<p>[சொத்து விவரங்கள் மற்றும் முகவரி]</p>
<h2>விற்பனை விலை</h2>
<p>இந்த சொத்தின் ஒப்புக்கொள்ளப்பட்ட விற்பனை விலை ரூ. [தொகை எண்களில்] (ரூபாய் [தொகை சொற்களில்] மட்டும்) ஆகும்.</p>
<h2>கட்டண முறை</h2>
<p>வாங்குபவர் விற்பனை விலையை பின்வரும் முறையில் செலுத்த ஒப்புக்கொள்கிறார்:</p>
<p>[கட்டண விவரங்கள்]</p>
<h2>கையொப்பங்கள்</h2>
<table style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%;">
<p>விற்பனையாளர்:</p>
<p>[விற்பனையாளர் பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
<td style="width: 50%;">
<p>வாங்குபவர்:</p>
<p>[வாங்குபவர் பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
</tr>
</tbody>
</table>
<h2>சாட்சிகள்</h2>
<table style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%;">
<p>சாட்சி 1:</p>
<p>[சாட்சி 1 பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
<td style="width: 50%;">
<p>சாட்சி 2:</p>
<p>[சாட்சி 2 பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
</tr>
</tbody>
</table>`,
    category: "சொத்து ஆவணங்கள்",
  },
  {
    title: "அடமான ஆவணம்",
    description: "சொத்து அடமானத்திற்கான ஆவண வார்ப்புரு",
    content: `<h1 style="text-align: center;">அடமான ஆவணம்</h1>
<p>இந்த அடமான ஆவணம் [தேதி] அன்று [அடமானம் வைப்பவர் பெயர்] (இனி "அடமானதாரர்" என்று குறிப்பிடப்படுகிறார்) மற்றும் [அடமானம் பெறுபவர் பெயர்] (இனி "அடமானம் பெறுபவர்" என்று குறிப்பிடப்படுகிறார்) ஆகியோருக்கு இடையே செய்யப்படுகிறது.</p>
<h2>சொத்து விவரங்கள்</h2>
<p>அடமானதாரர் பின்வரும் சொத்தை அடமானம் வைக்க ஒப்புக்கொள்கிறார்:</p>
<p>[சொத்து விவரங்கள் மற்றும் முகவரி]</p>
<h2>கடன் தொகை</h2>
<p>அடமானம் பெறுபவர் அடமானதாரருக்கு ரூ. [தொகை எண்களில்] (ரூபாய் [தொகை சொற்களில்] மட்டும்) கடனாக வழங்க ஒப்புக்கொள்கிறார்.</p>
<h2>திருப்பிச் செலுத்தும் விதிமுறைகள்</h2>
<p>அடமானதாரர் கடன் தொகையை பின்வரும் முறையில் திருப்பிச் செலுத்த ஒப்புக்கொள்கிறார்:</p>
<p>[திருப்பிச் செலுத்தும் விவரங்கள்]</p>
<h2>வட்டி விகிதம்</h2>
<p>இந்த கடனுக்கான வட்டி விகிதம் ஆண்டுக்கு [வட்டி விகிதம்]% ஆகும்.</p>
<h2>கையொப்பங்கள்</h2>
<table style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%;">
<p>அடமானதாரர்:</p>
<p>[அடமானதாரர் பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
<td style="width: 50%;">
<p>அடமானம் பெறுபவர்:</p>
<p>[அடமானம் பெறுபவர் பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
</tr>
</tbody>
</table>
<h2>சாட்சிகள்</h2>
<table style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%;">
<p>சாட்சி 1:</p>
<p>[சாட்சி 1 பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
<td style="width: 50%;">
<p>சாட்சி 2:</p>
<p>[சாட்சி 2 பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
</tr>
</tbody>
</table>`,
    category: "சொத்து ஆவணங்கள்",
  },
  {
    title: "வாடகை ஒப்பந்தம்",
    description: "வீடு அல்லது கடை வாடகைக்கான ஒப்பந்த வார்ப்புரு",
    content: `<h1 style="text-align: center;">வாடகை ஒப்பந்தம்</h1>
<p>இந்த வாடகை ஒப்பந்தம் [தேதி] அன்று [வீட்டு உரிமையாளர் பெயர்] (இனி "உரிமையாளர்" என்று குறிப்பிடப்படுகிறார்) மற்றும் [வாடகைதாரர் பெயர்] (இனி "வாடகைதாரர்" என்று குறிப்பிடப்படுகிறார்) ஆகியோருக்கு இடையே செய்யப்படுகிறது.</p>
<h2>சொத்து விவரங்கள்</h2>
<p>உரிமையாளர் பின்வரும் சொத்தை வாடகைக்கு விட ஒப்புக்கொள்கிறார்:</p>
<p>[சொத்து விவரங்கள் மற்றும் முகவரி]</p>
<h2>வாடகை காலம்</h2>
<p>இந்த ஒப்பந்தம் [தொடக்க தேதி] முதல் [முடிவு தேதி] வரை செல்லுபடியாகும்.</p>
<h2>மாத வாடகை</h2>
<p>வாடகைதாரர் மாதாந்திர வாடகையாக ரூ. [தொகை எண்களில்] (ரூபாய் [தொகை சொற்களில்] மட்டும்) செலுத்த ஒப்புக்கொள்கிறார்.</p>
<h2>வைப்புத் தொகை</h2>
<p>வாடகைதாரர் வைப்புத் தொகையாக ரூ. [தொகை எண்களில்] (ரூபாய் [தொகை சொற்களில்] மட்டும்) செலுத்த ஒப்புக்கொள்கிறார்.</p>
<h2>கையொப்பங்கள்</h2>
<table style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%;">
<p>உரிமையாளர்:</p>
<p>[உரிமையாளர் பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
<td style="width: 50%;">
<p>வாடகைதாரர்:</p>
<p>[வாடகைதாரர் பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
</tr>
</tbody>
</table>
<h2>சாட்சிகள்</h2>
<table style="width: 100%;">
<tbody>
<tr>
<td style="width: 50%;">
<p>சாட்சி 1:</p>
<p>[சாட்சி 1 பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
<td style="width: 50%;">
<p>சாட்சி 2:</p>
<p>[சாட்சி 2 பெயர்]</p>
<p>கையொப்பம்: ____________________</p>
</td>
</tr>
</tbody>
</table>`,
    category: "வாடகை ஆவணங்கள்",
  },
]

// Function to ensure document templates exist in the database
export async function ensureDocumentTemplatesExist() {
  const supabase = getSupabaseServerClient()

  // Check if templates already exist
  const { data: existingTemplates, error: checkError } = await supabase.from("document_templates").select("id")

  if (checkError) {
    console.error("Error checking for existing templates:", checkError)
    throw checkError
  }

  // If no templates exist, insert the default ones
  if (!existingTemplates || existingTemplates.length === 0) {
    const { error: insertError } = await supabase.from("document_templates").insert(DEFAULT_TEMPLATES)

    if (insertError) {
      console.error("Error inserting default templates:", insertError)
      throw insertError
    }

    console.log("Default document templates created successfully")
  }
}
